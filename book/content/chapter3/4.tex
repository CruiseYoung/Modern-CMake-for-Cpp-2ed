
Visual Studio（VS）IDE是微软开发的一款适用于Windows的IDE。VS曾为macOS提供支持，但将在2024年8月弃用，要将其与微软的另一个IDE——VS Code区分开来。

VS有几个版本：社区版、专业版和企业版。社区版免费，允许一家公司最多有五名用户。规模更大的公司需要支付许可费用，每月每位用户起价45美元。图3.5展示了VS 2022的外观：

\myGraphic{0.6}{content/chapter3/images/5.png}{图3.5：VS 2022的主窗口}

和其他IDE一样，也可以启用暗黑模式。

\mySubsubsection{3.4.1}{可能喜欢它的原因}

这个IDE与VS Code共享许多功能，提供类似但更加精致的体验。套件中充满了功能，其中许多功能利用了图形用户界面、向导和可视元素。大多数这些功能都直接开箱即用，而不是通过扩展（尽管仍然有一个大型且广泛的包市场以获取更多功能）。

根据版本的不同，测试工具将涵盖广泛的测试：单元测试、性能测试、负载测试、手动测试、Test Explorer、测试覆盖率、IntelliTest和代码分析。特别是分析器，这是一款非常宝贵的工具，在社区版中可用。

如果正在设计Windows桌面应用程序，VS提供了可视编辑器和大量组件。对通用Windows平台（UWP）的支持非常广泛，这是Windows 10引入的Windows应用程序的UI标准。这种支持允许实现光滑、现代的设计，并且针对不同屏幕上的自适应控件进行了高度优化。

值得一提的是，尽管VS是一个仅限Windows的IDE，但仍然可以开发针对Linux和移动平台（Android和iOS）的项目。此外，还支持使用Windows本地库和Unreal Engine的游戏开发者。

准备好亲自体验它的工作方式了吗？以下是开始的方法。

\mySubsubsection{3.4.2}{第一步}

这个IDE仅适用于Windows，并遵循标准的安装过程。首先从\url{https://visualstudio.microsoft.com/free-developeroffers/}下载安装程序。运行安装程序后，需要选择版本（社区版、专业版或企业版），并选择想要的安装的组件：

\myGraphic{0.6}{content/chapter3/images/6.png}{图3.6：VS IDE安装程序窗口}

组件是允许VS支持特定语言、环境或程序格式的功能集，一些组件包括Python、Node.js或.NET。当然，我们感兴趣的是与C++相关的那些（图3.6）；其针对不同的用例提供了广泛的支持：

\begin{itemize}
\item
使用C++的桌面开发

\item
使用C++的通用Windows平台开发

\item
使用C++的游戏开发

\item
使用C++的移动开发

\item
使用C++的Linux开发
\end{itemize}

选择所需应用程序的选项并点击安装。不用担心安装所有选项——可以再次运行安装程序来修改选择。如果决定更精确地配置工作负载组件，请确保启用C++ CMake工具选项以获得对CMake的支持。

安装后，可以启动IDE并选择启动窗口上的“创建新项目”，将看到基于之前安装的工作负载的多个模板。要与CMake一起工作，请选择CMake项目模板。其他选项不一定使用CMake。创建项目后，可以通过点击窗口顶部绿色的播放按钮开启；代码将编译，将看到基本的程序执行，输出如下：

\begin{shell}
Hello CMake.
\end{shell}

现在，准备好使用Visual Studio与CMake一起工作了码？

\mySubsubsection{3.4.3}{高级功能：热重载调试}

运行Visual Studio可能会更耗资源并且启动时间更长，但它提供了许多无与伦比的功能。其中一个重要的改变者是热重载。以下是其使用方式：打开一个C++项目，使用调试器启动它，在代码文件中进行更改，点击热重载按钮（或Alt + F10），你的更改将立即在运行的应用程序中反映出来，同时保持状态。

为了确保热重载支持已启用，请在项目 > 属性 > C/C++ > 常规菜单中设置这两个选项：

\begin{itemize}
\item
调试信息格式必须设置为 \textbf{用于编辑并继续的程序数据库 /ZI}

\item
启用增量链接必须设置为 \textbf{Yes /INCREMENTAL}
\end{itemize}

热重载的背后机制可能看起来像魔法，但它是一个非常实用的功能。存在一些限制，例如：对全局/静态数据、对象布局或“时间旅行”更改（如更改已构建对象的构造函数）的更改。

更多关于热重载的信息可以在官方文档中找到：\url{https://learn.microsoft.com/en-us/visualstudio/debugger/hot-reload}。

这就是我们对这三个主要IDE的探索。起初的学习曲线可能看起来很陡峭，但如果投入学习这些IDE，当转向更高级的任务时，会很快看到回报的。















