本节中，我们将讨论集成开发环境（IDE），以及它们如何显著提高开发速度和代码质量。让我们了解IDE是什么开始吧。

为什么使用IDE，以及如何选择IDE？IDE，或集成开发环境，是一种全面的工具，将各种专用工具结合在一起，简化了软件开发过程。创建专业项目的过程涉及许多步骤：设计、编码、构建、测试、打包、发布和维护。每个步骤都包含许多较小的任务，复杂性可能会让人不堪重负。IDE通过提供一个平台来解决这一问题，该平台配备了一套由IDE创建者策划和配置的工具。这种集成能够无缝地使用这些工具，而无需为每个项目进行单独设置。

IDE主要围绕代码编辑器、编译器和调试器展开。旨在提供足够的集成，能够编辑代码，立即编译，并附加调试器运行。IDE可以包含构建工具链，或者允许开发者选择自己喜欢的编译器和调试器。编辑器通常是软件的核心部分，可以通过插件进行大量扩展，如代码高亮、格式化等。

更高级的IDE提供了非常复杂的功能，如热重载调试（在Visual Studio 2022中可用；继续阅读以了解更多信息）。此功能允许在调试器中运行代码，编辑它，并在不重新启动程序的情况下继续执行。还会发现重构工具，用于重命名符号或将代码提取到单独的函数中，以及静态分析，用于在编译前识别错误。此外，IDE提供了使用Git和其他版本控制系统的工具，这对于解决冲突来说是无价的。

可以看到，早期学习如何使用IDE，并在组织中标准化这种使用是多么有益。来看看为什么选择合适的IDE很重要。

\mySubsubsection{3.1.1}{选择IDE}

社区公认为功能齐全的IDE有几个。致力于特定选择之前，建议先研究一下这个领域，特别是当前软件发布周期的速度和该领域的变化都非常快。

在我几年的企业经验中，很少有一个IDE提供的功能足够吸引人，使得有人从一种IDE切换到另一种IDE。习惯的力量对开发者来说是第二天性，不应忽视。记住，当在IDE中感到舒适，它很可能会成为未来相当长一段时间的首选工具。这就是为什么仍然看到开发者使用Vim（1991年发布的基于控制台的文本编辑器），通过一堆插件使其像更现代的、基于GUI的IDE一样强大。

开发者选择一个IDE，而不是另一个的原因有很多；其中一些非常重要（速度、可靠性、全面性、完整性），而其他的……则不那么重要。我想分享我对这个选择的个人观点，希望这会对阅读本书的人有用。

\mySamllsection{选择全面的IDE}

刚开始，可能会考虑使用简单的文本编辑器，并运行几个命令来构建代码。这种方法可行，尤其是试图理解基础知识时。这也会帮助理解初学者在没有IDE的情况下，可能会有的体验。

另一方面，IDE是有目创造的，简化了开发人员在项目生命周期中处理的许多过程。尽管最初可能会让人感到不知所措，但请选择一个包含必要功能的全面IDE。确保它尽可能完整，但也要注意成本，因为对于小型企业或个人开发者来说，IDE可能会很昂贵。这是在手动管理上花费的时间与IDE提供的功能成本之间的平衡。

无论成本如何，始终选择具有强大社区支持的IDE，以便在遇到问题时提供帮助。探索社区论坛和像StackOverflow.com这样的热门问答网站，检查用户是否得到了他们的答案。此外，选择一个由知名公司积极开发的IDE。没人想浪费时间在长时间没有更新，可能会在不久的将来弃用或放弃的东西上。例如，GitHub创建的编辑器Atom在发布了7年后淘汰。

\mySamllsection{选择组织中广泛支持的IDE}

反直觉的是，这可能与每位开发者的偏好不一致。您可能已经对大学、上一份工作或个人项目中的不同工具有所熟悉。如前所述，这种习惯可能会让您忽略公司的建议，坚持使用您所知道的工具。需要抵制这种诱惑，随着时间的推移，这样的选择会变得越来越具挑战性。

我分别在爱立信、亚马逊和思科工作过，只有一次尝试配置和维护非标准IDE的努力是值得的。因为我设法获得了足够的组织支持来集体解决问题，但阅读本书各位的主要目标应该是编写代码，而不是与不受支持的IDE作斗争。学习推荐的软件可能需要付出努力，但这比违背常规所需的努力要少（是的，Vim在这场战斗中失败了；是时候继续前进了）。

\mySamllsection{不要根据目标操作系统和平台选择IDE}

如果您正在为Linux开发软件，需要使用Linux机器和基于Linux的IDE。然而，C++是一种可移植的语言，所以只要正确编写了代码，就应该在任何平台上以相同的方式编译和运行。当然，可能会在库上遇到问题，因为并非所有库都会默认安装，有些可能特定于平台。

严格遵循目标平台并不是必要的，有时甚至可能适得其反。例如，针对的是较旧或长期支持（LTS）版本的操作系统，可能无法使用最新的工具链版本。如果希望在不同于目标平台的平台上开发，可以这样做。

考虑交叉编译或远程开发。交叉编译涉及使用专用工具链，允许在一种平台（如Windows）上运行的编译器为另一种平台（如Linux）生成工件。这种方法在业界得到了广泛使用，并且得到了CMake的支持。另外，建议使用远程开发，将代码发送到目标机器，并在那里使用本地工具链进行构建。这种方法得到了许多IDE的支持，我们将在下一节中进行探讨。

\mySamllsection{选择支持远程开发的IDE}

虽然这不应该是首要标准，但在满足其他要求后，考虑IDE中的远程开发支持是有益的。随着时间的推移，即使是经验丰富的开发者也会遇到由于团队、项目甚至公司的变化而需要不同于他们常用操作系统的目标平台的项目。

如果首选IDE支持远程开发，可以继续使用它，利用在不同操作系统上编译和调试代码的能力，并在IDE的GUI中查看结果。远程开发相对于交叉编译的主要优势在于其集成的调试器支持，无需CMake项目级别的配置，过程更加简洁。此外，公司通常会提供强大的远程机器，允许开发者使用更便宜、更轻便的本地设备。

当然，有人可能会提出交叉编译提供了对开发环境的更大控制权，允许为测试进行临时更改。它不需要代码传输的带宽，支持低端的互联网连接或离线工作。然而，考虑到大多数软件开发都涉及互联网访问以获取信息，这可能是一个不那么关键的优势。使用像Docker这样的虚拟化环境可以运行本地生产副本并设置远程开发连接，提供安全性、可定制性和构建及部署容器的能力。

这里提到的考虑因素稍微倾向于在大公司工作的情况，在那里事情进展较慢，很难进行具有重大影响的改变。这些建议并不否定您决定根据需要优先考虑IDE的其他方面时，与CMake一起拥有完美完整体验的可能性。

\mySubsubsection{3.1.2}{安装工具链}

DE集成了所有必要的工具来简化软件开发。这一过程的关键部分是构建二进制文件，有时在后台或即时进行，以为开发者提供额外信息。工具链是一系列工具的集合，如编译器、链接器、归档器、优化器、调试器，以及标准C++库的实现。还包括其他有用的实用程序，如bash、make、gawk、grep等，用于构建程序。

一些IDE自带工具链或工具链下载器，而其他则没有。最好的做法是运行已安装的IDE，并检查是否能够编译基本的测试程序。CMake通常在配置阶段默认执行此操作，大多数IDE将此作为新项目初始化的一部分。如果此过程失败，IDE或操作系统的包管理器可能会提示安装必要的工具。只需按照流程操作，因为这种流程通常准备得很充分。

如果没有提示，或者想使用特定的工具链，以下是一些基于平台的选项：

\begin{itemize}
\item
GCC (\url{https://gcc.gnu.org/}) 用于Linux、Windows（通过MinGW或Cygwin）、macOS以及许多其他平台。GCC是最受欢迎和广泛使用的C++编译器，支持大多数的平台和架构。

\item
Clang/LLVM (\url{https://clang.llvm.org/}) 用于Linux、Windows、macOS以及许多其他平台。Clang是C、C++和Objective-C编程语言的前端编译器，使用LLVM作为其后端。

\item
Microsoft Visual Studio/MSVC (\url{https://visualstudio.microsoft.com/}) 主要用于Windows，通过Visual Studio Code和CMake提供跨平台支持。MSVC是Microsoft提供的C++编译器，通常在Visual Studio IDE内使用。

\item
MinGW-w64 (\url{http://mingw-w64.org/}) 用于Windows。MinGW-w64是原始MinGW项目的进一步发展，旨在为64位Windows和新API提供更好的支持。

\item
Apple Clang (\url{https://developer.apple.com/xcode/cpp/}) 用于macOS、iOS、iPadOS、watchOS和tvOS。Apple的Clang版本，针对Apple的硬件和软件生态系统进行了优化，与Xcode集成。

\item
Cygwin (\url{https://www.cygwin.com/}) 用于Windows。Cygwin在Windows上提供了一个POSIX兼容的环境，允许使用GCC和其他GNU工具。
\end{itemize}

如果想快速开始，而不深入研究每个工具链，可以参考我的个人偏好：如果IDE没有提供工具链，Windows上使用MinGW，Linux上使用Clang/LLVM，macOS上使用Apple Clang。这些工具链都很好地适用于它们的主要平台，并且通常提供最佳体验。

\mySubsubsection{3.1.3}{使用本书的示例与IDE}

本书附带了一系列CMake项目的示例，可在官方GitHub仓库中找到：\url{https://github.com/PacktPublishing/Modern-CMake-for-Cpp-2E}。

当然，探讨IDE的主题时，如何使用这个仓库，以及这里展示的所有IDE？好吧，我们需要认识到，教你如何创建专业项目这本书本身并不是一个专业项目。它是一系列这样的项目，完成程度各不相同，可能在合理的情况下进行了简化。不幸的是（或者也许幸运的是？），IDE并不是为了加载数十个项目，并方便地管理它们而构建的。它们通常将功能集中在加载一个正在编辑的项目上。

这让我们处于一个有些尴尬的位置：使用IDE导航示例集真的很难。当使用IDE加载示例集时，通过选择示例目录来打开它，大多数IDE会检测到多个CMakeLists.txt文件并要求选择一个。这样做之后，通常的初始化过程会发生，会写入临时文件，运行CMake配置和生成阶段，以使项目进入可以构建的状态。大多数IDE确实提供了在工作空间中切换不同目录（或项目）的方法，但可能并不像我们希望的那样直接。

如果您在这方面遇到困难，有两个选择：要么不使用IDE构建示例（而是使用控制台命令），要么每次将一个示例加载到新项目中。如果热衷于练习命令，我会推荐第一个选项，因为这些命令将来可能会派上用场，并且会让您更好地理解幕后发生的事情。这对于构建工程师来说通常是一个不错的选择，因为这种知识会经常使用。另一方面，如果主要作为开发者专注于代码的业务方面，那么早期使用IDE可能是最好的选择。

有了这些，让我们专注于回顾当今顶尖的IDE，看看哪个可能最适合您。









