
Visual Studio Code（VS Code）是一款免费的、跨平台的IDE，适用于Windows、macOS和Linux，由微软开发。不要将它与另一款微软产品混淆，即Visual Studio IDE（通常以发布的年份命名，例如，Visual Studio 2022）。

VS Code因其广泛的扩展生态系统和对数百种编程语言的支持而受到青睐（据估计，超过220种不同的语言！）。当GitHub被微软收购时，VS Code被介绍为Atom的某种替代品。

IDE的整体设计非常出色，如图3.4所示。

\myGraphic{1.0}{content/chapter3/images/4.png}{图3.4：VS Code的主窗口}

现在，让我们找出VS Code之所以特别的原因。

\mySubsubsection{3.3.1}{你可能喜欢它的原因}

在VS Code支持的众多语言中，C++并不是优先考虑的，但它的地位非常接近顶部，多亏了可用的许多高级语言扩展。这种权衡带来的好处是能够在同一环境中根据需要切换多种语言。

这个工具的学习曲线稍微有些陡峭，因为大多数扩展都符合基本UI功能，而不是自行实现高级界面。许多功能将通过命令面板（通过按F1访问）提供，这要求您输入命令名称而不是点击图标或按钮。为了保持VS Code干净、快速且免费，这是一个合理的牺牲。实际上，这个IDE加载速度非常快，以至于我更喜欢将它作为通用文本编辑器使用，即使在不工作时也是如此。

话虽如此，VS Code的真正强大之处在于它拥有大量非常出色的扩展，其中大多数都是免费的。对于C++和CMake，有专门的扩展可用，我们将在下一节看看如何配置它们。

\mySubsubsection{3.3.2}{开始你的第一步}

VS Code可以从官方网站获得：\url{https://code.visualstudio.com/}。该网站提供了Windows和macOS以及许多Linux发行版（Debian、Ubuntu、Red Hat、Fedora、SUSE）的广泛下载列表。按照您平台的常规流程安装软件。之后，您需要通过扩展市场（通过按Ctrl/Command + Shift + X）安装一堆扩展。以下是一些推荐的入门扩展

\begin{itemize}
\item
C/C++ by Microsoft

\item
C/C++ Extension Pack by Microsoft

\item
CMake by twxs

\item
CMake Tools by Microsoft
\end{itemize}

它们将提供标准的代码高亮和直接从IDE编译、运行和调试代码的能力，但您可能需要自己安装工具链。通常，VS Code会在您开始打开相关文件时在弹出窗口中建议安装扩展，所以您不必特意去寻找。

如果您参与远程项目，我建议安装Microsoft的Remote - SSH扩展，因为这会使体验更加连贯和舒适；这个扩展不仅处理文件同步，还允许您通过远程机器的调试器远程调试。

然而，还有一个更有趣的扩展，它改变了与项目工作方式，我们来看看它是如何做到的。

\mySubsubsection{3.3.3}{高级功能：Dev Containers}

如果您要将应用程序部署到生产环境，无论是发送编译的工件还是运行构建过程，确保所有依赖项都存在至关重要。否则，您将遇到各种问题。即使考虑了所有依赖项，不同的版本或配置也可能导致您的解决方案与开发或测试环境的行为不同。我多次遇到过这种情况。在虚拟化变得普遍之前，处理环境问题只是生活的一部分。

随着轻量级容器如Docker的引入，事情变得更加简单。突然间，您可以运行一个包含您服务的最小化操作系统，并将其隔离到自己的空间中。这种隔离允许将所有依赖项打包到容器中，从而使开发人员摆脱了一个主要头痛问题。

直到最近，开发容器涉及手动构建、运行和通过IDE的远程会话连接到容器。这个过程并不太难，但它需要手动步骤，不同开发人员可能会以不同的方式执行。

近年来，微软发布了一个名为Dev Containers（\url{https://containers.dev/}）的开放标准，以帮助解决这个小小的不便。该规范主要由一个devcontainer.json文件组成，您可以在项目仓库中放置该文件，指导IDE如何在一个容器中设置其开发环境。

要使用此功能，只需安装Microsoft的Dev Containers扩展，并将其指向一个适当准备的项目仓库。如果您不介意切换主CMakeLists.txt，可以尝试使用本书的仓库：

\url{git@github.com:PacktPublishing/Modern-CMake-for-Cpp-2E.git}

我可以确认，其他IDE，如CLion，也在采用这个标准，所以如果你面临描述的情况，这似乎是一个很好的实践。现在是时候转向微软家族的下一个产品了。



















