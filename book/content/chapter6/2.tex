

CMake在三个阶段构建解决方案：配置、生成和运行构建工具。通常，配置阶段所需数据都可以找到。然而，有时会遇到类似于“先有鸡还是先有蛋”的悖论。以第5章中的“将自定义命令作为目标钩子”的例子来说，一个目标需要知道另一个目标的二进制工件的路径。不幸的是，这个信息只有在所有列表文件解析且配置阶段完成后才能获得。

那如何解决这类问题呢？一个解决方案是为这个信息创建一个占位符，并将其计算推迟到下一个阶段——生成阶段。

这正是生成器表达式（也称为“genexes”）所做的。其围绕目标属性构建，如LINK\_LIBRARIES、INCLUDE\_DIRECTORIES、COMPILE\_DEFINITIONS，以及传播属性(尽管不是全部)，其遵循类似于条件语句和变量计算的规则。

\begin{myNotic}{Note}
生成器表达式将在生成阶段进行计算（配置完成且构建系统创建后），所以将它们的输出捕获到变量，并输出到控制台并不是直接的操作。
\end{myNotic}

生成器表达式的数量众多，在某种程度上构成了自己的、特定领域的语言——这种语言支持条件表达式、逻辑操作、比较、转换、查询和排序。利用生成器表达式可以操作和查询字符串、列表、版本号、shell路径、配置和构建目标。本章中，将简要概述这些概念，由于在大多数情况下不是必需的，所以将专注于基础知识。主要关注点将是生成器表达式的应用，即从目标的生成配置和构建环境状态中收集信息。为了完整参考，最好在线阅读官方的CMake手册（请参见“扩展阅读”部分获取URL）。

通过例子解释都会更清楚，所以让我们直接进入正题，描述生成器表达式的语法。















